Target_Check:
  type: task
  debug: false
  speed: 0
  script:
    - if <yaml[<def[target].uuid>].read[faction.name]||Outlaw1> == <yaml[player.uuid>].read[faction.name]||Outlaw2> && <yaml[<def[target].uuid>].read[faction.outlaw]||False> == False {
      - queue clear
    }
    ### Add Anti PvP hopping eventually

Damage_Management:
  type: world
  debug: false
  events:
    on player damaged by FALL:
    - determine cancelled
    on player damages entity:
    - if <context.cause> == ENTITY_ATTACK {
      - if <context.damager.has_flag[Stun_Effect]> {
        - narrate "<&a><&l>[Skill]> <&7>You are stunned for another <&f><player.flag[Stun_Effect].expiration.in_seconds.round_to[1]>s<&7>!"
        - determine cancelled
      }
      - define Class_Stat_Config s@<context.damager.flag[Class]>_Stat_Config
      - define Damage_Modifier <yaml[<player.uuid>].read[General.Damage_Modifier]||1>
      - define Damage <def[Class_Stat_Config].yaml_key[Melee_Damage].mul[<def[Damage_Modifier]>]||1>
      - determine <def[Damage]>
    }